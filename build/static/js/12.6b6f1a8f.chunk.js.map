{"version":3,"sources":["assets/images/icons/remove-icon.svg","assets/images/icons/close-popup-icon.svg","display/components/modal/DeleteBookModal.js"],"names":["module","exports","Modal","setAppElement","DeleteBookModal","props","console","log","nav","useSelector","state","dispatch","useDispatch","bookID","closeModal","history","push","type","ON_HIDE_DELETE_MODAL","isOpen","showDeleteModal","style","content","top","left","right","bottom","marginRight","transform","zIndex","padding","overflow","width","borderRadius","textAlign","overlay","backgroundColor","contentLabel","onRequestClose","alt","src","IconClose","className","onClick","RemoveIcon","deleteBook","then","res","code","notify","show","setTimeout","deleted","catch","err"],"mappings":"kIAAAA,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,8C,iCCA3C,4HAYAC,IAAMC,cAAc,SA6ELC,UA3ES,SAACC,GAErBC,QAAQC,IAAI,4BAA6BF,GAEzC,IAAMG,EAAMC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,OACjCG,EAAWC,cACXC,EAASR,EAAMQ,OAEfC,EAAa,WACfT,EAAMU,QAAQC,KAAK,aACnBL,EAAS,CAAEM,KAAMC,OAyCrB,OACI,6BACI,kBAAC,IAAD,MACA,kBAAC,IAAD,CAAOC,OAAQX,EAAIY,gBAAiBC,MAvBvB,CACjBC,QAAS,CACLC,IAAK,MACLC,KAAM,MACNC,MAAO,OACPC,OAAQ,OACRC,YAAa,OACbC,UAAW,wBACXC,OAAQ,KACRC,QAAS,iBACTC,SAAU,OACVC,MAAO,QACPC,aAAc,MACdC,UAAW,UAEfC,QAAS,CACLC,gBAAiB,qBACjBP,OAAQ,OAMiDQ,aAAa,gBAAgBC,eAAgB,kBAAMxB,MAExG,yBAAKyB,IAAI,QAAQC,IAAKC,IAAWC,UAAU,kCAAkCrB,MAAO,CAAEI,MAAO,OAAQF,IAAK,QAAUoB,QAAS,kBAAM7B,OACnI,yBAAKyB,IAAI,MAAMC,IAAKI,IAAYF,UAAU,SAC1C,yBAAKA,UAAU,uDACX,8CAEJ,yBAAKA,UAAU,kDACX,kGAIJ,yBAAKA,UAAU,4CACX,4BAAQA,UAAU,oCAAoCC,QAAS,kBAAM7B,MAArE,MACA,4BAAQ4B,UAAU,oCAAoCC,QAAS,WAtD3EE,YAAWhC,GAAQiC,MAAK,SAAAC,GACJ,KAAZA,EAAIC,KACJC,SAAOC,KAAK,6BAA8B,UAAW,KAGrDD,SAAOC,KAAK,gDAAiD,QAAS,KAE1EvC,EAAS,CAAEM,KAAMC,MACjBiC,YAAW,kBAAM9C,EAAMU,QAAQC,KAAK,YAAa,CAACoC,SAAS,MAAQ,QACpEC,OAAM,SAAAC,GACLhD,QAAQC,IAAI+C,GACZL,SAAOC,KAAK,gDAAiD,QAAS,KACtEvC,EAAS,CAAEM,KAAMC,MACjBiC,YAAW,kBAAM9C,EAAMU,QAAQC,KAAK,eAAc,UAyC1C","file":"static/js/12.6b6f1a8f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/remove-icon.020dfd90.svg\";","module.exports = __webpack_public_path__ + \"static/media/close-popup-icon.d9cd8e4a.svg\";","import React from \"react\"\nimport { useSelector, useDispatch } from \"react-redux\"\nimport Notifications, { notify } from 'react-notify-toast';\nimport Modal from \"react-modal\"\n\nimport { ON_HIDE_DELETE_MODAL } from '../../../store/actions/NavigationActions'\nimport { deleteBook } from '../../../services/Books';\n\n// image\nimport RemoveIcon from '../../../assets/images/icons/remove-icon.svg'\nimport IconClose from \"../../../assets/images/icons/close-popup-icon.svg\";\n\nModal.setAppElement(\"#root\");\n\nconst DeleteBookModal = (props) => {\n\n    console.log(\"DeleteBookModal props => \", props);\n\n    const nav = useSelector(state => state.nav);\n    const dispatch = useDispatch();\n    const bookID = props.bookID;\n\n    const closeModal = () => {\n        props.history.push(\"/my-books\");\n        dispatch({ type: ON_HIDE_DELETE_MODAL })\n    }\n\n    const deleteBookHandler = () => {\n        deleteBook(bookID).then(res => {\n            if (res.code == 200) {\n                notify.show(\"Book successfully deleted!\", 'success', 1000)\n            }\n            else {\n                notify.show(\"An error has occured, please try again later!\", 'error', 1000)\n            }\n            dispatch({ type: ON_HIDE_DELETE_MODAL })\n            setTimeout(() => props.history.push('/my-books', {deleted: true}), 1000)\n        }).catch(err => {\n            console.log(err);\n            notify.show(\"An error has occured, please try again later!\", 'error', 1000)\n            dispatch({ type: ON_HIDE_DELETE_MODAL })\n            setTimeout(() => props.history.push('/my-books'), 1000)\n        })\n    }\n\n    const customStyles = {\n        content: {\n            top: \"50%\",\n            left: \"50%\",\n            right: \"auto\",\n            bottom: \"auto\",\n            marginRight: \"-50%\",\n            transform: \"translate(-50%, -50%)\",\n            zIndex: \"20\",\n            padding: \"40px 20px 30px\",\n            overflow: \"none\",\n            width: \"360px\",\n            borderRadius: \"8px\",\n            textAlign: \"center\"\n        },\n        overlay: {\n            backgroundColor: \"rgba(0, 0, 0, 0.2)\",\n            zIndex: \"20\"\n        }\n    }\n    return (\n        <div>\n            <Notifications />\n            <Modal isOpen={nav.showDeleteModal} style={customStyles} contentLabel=\"Example Modal\" onRequestClose={() => closeModal()}>\n            {/* <Notifications /> */}\n                <img alt=\"Close\" src={IconClose} className=\"position-absolute cursorPointer\" style={{ right: '10px', top: '10px' }} onClick={() => closeModal()} />\n                <img alt=\"Del\" src={RemoveIcon} className=\"mb-3\" />\n                <div className=\"greyDefault normalFont font-weight-bold text-center\">\n                    <span>Delete Book</span>\n                </div>\n                <div className=\"greyDefault smallFont text-center mx-auto mt-3\">\n                    <span>\n                        Are you sure you want to delete this book from your collection?\n                    </span>\n                </div>\n                <div className=\"d-flex w-100 justify-content-around mt-3\">\n                    <button className=\"buttonRounded d-inline-block px-4\" onClick={() => closeModal()}>No</button>\n                    <button className=\"buttonRounded d-inline-block px-4\" onClick={() => deleteBookHandler()}>Yes</button>\n                </div>\n            </Modal>\n        </div>\n    )\n}\n\nexport default DeleteBookModal"],"sourceRoot":""}