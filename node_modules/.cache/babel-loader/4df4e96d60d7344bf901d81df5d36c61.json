{"ast":null,"code":"import _slicedToArray from\"/Users/mac/react/gooroo-coding-test-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{attemptRegister}from'../../../services/Auth';import Notifications,{notify}from'react-notify-toast';// Images\nimport bigasLogo from\"../../../assets/images/general/logo.svg\";var RegisterForm=function RegisterForm(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isRegistrationSubmitted=_useState2[0],setIsRegistrationSubmitted=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),confirmPassword=_useState10[0],setConfirmPassword=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),errorMessage=_useState12[0],setErrorMessage=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),registerFailed=_useState14[0],setRegisterFailed=_useState14[1];var isEmailValid=function isEmailValid(){if(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(email)){return true;}setErrorMessage(\"Your E-mail address is invalid\");return false;};var isPasswordValid=function isPasswordValid(){if(password.length>=8&&password===confirmPassword){return true;}else{if(password.length<8)setErrorMessage(\"Password must have a minimum of 8 characters\");if(confirmPassword!==password)setErrorMessage(\"Plese confirm your password again\");}return false;};var registerHandler=function registerHandler(e){e.preventDefault();if(isEmailValid()&&isPasswordValid()){setIsRegistrationSubmitted(true);setRegisterFailed(false);var newContributor={name:name,email:email,password:password};console.log(\"newContributor => \",newContributor);attemptRegister(newContributor).then(function(result){if(result.code==200){notify.show(\"Account created! Redirecting to Login...\",'success',1000);setTimeout(function(){return props.history.push('/auth/login');},1000);}else{notify.show(result.msg,'error',1000);setIsRegistrationSubmitted(false);}// console.log(result);\n}).catch(function(error){notify.show(\"An error has occured, please try again later!\",'error',1000);setIsRegistrationSubmitted(false);});}else{// notify.show(errorMessage, 'error', 1000)\nsetRegisterFailed(true);}};var switchToLoginFormHandler=function switchToLoginFormHandler(e){console.log(\"Login\");e.preventDefault();props.history.push('/auth/login');};return React.createElement(\"div\",{className:\"card-body text-center\",style:{paddingLeft:109,paddingRight:109,paddingTop:35,paddingBottom:35}},React.createElement(Notifications,null),React.createElement(\"form\",{className:\"d-flex flex-column justify-content-between h-100\",onSubmit:registerHandler},React.createElement(\"div\",null,React.createElement(\"img\",{alt:\"Cigarworld Indonesia\",src:bigasLogo,height:\"80\"})),React.createElement(\"div\",null,registerFailed?React.createElement(\"div\",{className:\"alert alert-danger p-1\"},React.createElement(\"span\",{className:\"smallFont\"},errorMessage)):null,React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"input\",{onChange:function onChange(e){return setName(e.target.value);},value:name,type:\"text\",required:true,className:\"form-control greySmooth normalFont\",style:{height:45,opacity:0.5},placeholder:\"Name\"})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"input\",{onChange:function onChange(e){return setEmail(e.target.value);},value:email,type:\"text\",required:true,className:\"form-control greySmooth normalFont\",style:{height:45,opacity:0.5},placeholder:\"Email Address\"})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"input\",{onChange:function onChange(e){return setPassword(e.target.value);},value:password,type:\"password\",required:true,className:\"form-control greySmooth normalFont\",style:{height:45,opacity:0.5},placeholder:\"Password\"})),React.createElement(\"div\",{className:\"form-group mb-0\"},React.createElement(\"input\",{onChange:function onChange(e){return setConfirmPassword(e.target.value);},value:confirmPassword,type:\"password\",required:true,className:\"form-control greySmooth normalFont\",style:{height:45,opacity:0.5},placeholder:\"Confirm Password\"})),React.createElement(\"div\",{style:{marginTop:'45px',letterSpacing:'0.08px'},className:\"text-center\"},React.createElement(\"h5\",{className:\"mb-0 dusk smallFont\"},\"Already have an account? \",React.createElement(\"span\",{style:{color:'#f5a623',cursor:\"pointer\"},onClick:switchToLoginFormHandler,className:\"fontWeightSemiBold\"},\"Login here\")))),React.createElement(\"div\",null,React.createElement(\"button\",{type:\"submit\",disabled:isRegistrationSubmitted,className:\"buttonDefault fluidWidth rounded-pill\"},\"Register\"))));};export default RegisterForm;","map":{"version":3,"sources":["/Users/mac/react/gooroo-coding-test-client/src/display/components/auth/RegisterForm.js"],"names":["React","useState","attemptRegister","Notifications","notify","RegisterForm","props","isRegistrationSubmitted","setIsRegistrationSubmitted","name","setName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","errorMessage","setErrorMessage","registerFailed","setRegisterFailed","isEmailValid","test","isPasswordValid","length","registerHandler","e","preventDefault","newContributor","console","log","then","result","code","show","setTimeout","history","push","msg","catch","error","switchToLoginFormHandler","paddingLeft","paddingRight","paddingTop","paddingBottom","bigasLogo","target","value","height","opacity","marginTop","letterSpacing","color","cursor"],"mappings":"iKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,eAAT,KAAgC,wBAAhC,CACA,MAAOC,CAAAA,aAAP,EAAwBC,MAAxB,KAAsC,oBAAtC,CAEA;+DAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,KAAK,CAAI,eAEoCL,QAAQ,CAAC,KAAD,CAF5C,wCAEnBM,uBAFmB,eAEMC,0BAFN,8BAGFP,QAAQ,CAAC,EAAD,CAHN,yCAGnBQ,IAHmB,eAGbC,OAHa,8BAIAT,QAAQ,CAAC,EAAD,CAJR,yCAInBU,KAJmB,eAIZC,QAJY,8BAKMX,QAAQ,CAAC,EAAD,CALd,yCAKnBY,QALmB,eAKTC,WALS,8BAMoBb,QAAQ,CAAC,EAAD,CAN5B,0CAMnBc,eANmB,gBAMFC,kBANE,gCAOcf,QAAQ,CAAC,EAAD,CAPtB,2CAOnBgB,YAPmB,gBAOLC,eAPK,gCAQkBjB,QAAQ,CAAC,KAAD,CAR1B,2CAQnBkB,cARmB,gBAQHC,iBARG,gBAU1B,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvB,GAAI,gDAAgDC,IAAhD,CAAqDX,KAArD,CAAJ,CAAiE,CAC7D,MAAO,KAAP,CACH,CACDO,eAAe,CAAC,gCAAD,CAAf,CACA,MAAO,MAAP,CACH,CAND,CAQA,GAAMK,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC1B,GAAIV,QAAQ,CAACW,MAAT,EAAmB,CAAnB,EAAwBX,QAAQ,GAAKE,eAAzC,CAA0D,CACtD,MAAO,KAAP,CACH,CAFD,IAGK,CACD,GAAIF,QAAQ,CAACW,MAAT,CAAkB,CAAtB,CACIN,eAAe,CAAC,8CAAD,CAAf,CACJ,GAAIH,eAAe,GAAKF,QAAxB,CACIK,eAAe,CAAC,mCAAD,CAAf,CACP,CACD,MAAO,MAAP,CACH,CAXD,CAaA,GAAMO,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,CAAC,CAAI,CACzBA,CAAC,CAACC,cAAF,GAEA,GAAIN,YAAY,IAAME,eAAe,EAArC,CAAyC,CACrCf,0BAA0B,CAAC,IAAD,CAA1B,CACAY,iBAAiB,CAAC,KAAD,CAAjB,CAEA,GAAMQ,CAAAA,cAAc,CAAG,CACnBnB,IAAI,CAAEA,IADa,CAEnBE,KAAK,CAAEA,KAFY,CAGnBE,QAAQ,CAAEA,QAHS,CAAvB,CAMAgB,OAAO,CAACC,GAAR,CAAY,oBAAZ,CAAkCF,cAAlC,EAEA1B,eAAe,CAAC0B,cAAD,CAAf,CAAgCG,IAAhC,CAAqC,SAAUC,MAAV,CAAkB,CACnD,GAAIA,MAAM,CAACC,IAAP,EAAe,GAAnB,CAAwB,CACpB7B,MAAM,CAAC8B,IAAP,CAAY,0CAAZ,CAAwD,SAAxD,CAAmE,IAAnE,EACAC,UAAU,CAAC,iBAAM7B,CAAAA,KAAK,CAAC8B,OAAN,CAAcC,IAAd,CAAmB,aAAnB,CAAN,EAAD,CAA0C,IAA1C,CAAV,CACH,CAHD,IAIK,CACDjC,MAAM,CAAC8B,IAAP,CAAYF,MAAM,CAACM,GAAnB,CAAwB,OAAxB,CAAiC,IAAjC,EACA9B,0BAA0B,CAAC,KAAD,CAA1B,CACH,CACD;AACH,CAVD,EAUG+B,KAVH,CAUS,SAAAC,KAAK,CAAI,CACdpC,MAAM,CAAC8B,IAAP,CAAY,+CAAZ,CAA6D,OAA7D,CAAsE,IAAtE,EACA1B,0BAA0B,CAAC,KAAD,CAA1B,CACH,CAbD,EAeH,CA3BD,IA4BK,CACD;AACAY,iBAAiB,CAAC,IAAD,CAAjB,CACH,CAEJ,CApCD,CAsCA,GAAMqB,CAAAA,wBAAwB,CAAG,QAA3BA,CAAAA,wBAA2B,CAAAf,CAAC,CAAI,CAClCG,OAAO,CAACC,GAAR,CAAY,OAAZ,EACAJ,CAAC,CAACC,cAAF,GAEArB,KAAK,CAAC8B,OAAN,CAAcC,IAAd,CAAmB,aAAnB,EAEH,CAND,CAQA,MACI,4BAAK,SAAS,CAAC,uBAAf,CAAuC,KAAK,CAAE,CAAEK,WAAW,CAAE,GAAf,CAAoBC,YAAY,CAAE,GAAlC,CAAuCC,UAAU,CAAE,EAAnD,CAAuDC,aAAa,CAAE,EAAtE,CAA9C,EACI,oBAAC,aAAD,MADJ,CAEI,4BAAM,SAAS,CAAC,kDAAhB,CAAmE,QAAQ,CAAEpB,eAA7E,EACI,+BACI,2BAAK,GAAG,CAAC,sBAAT,CAAgC,GAAG,CAAEqB,SAArC,CAAgD,MAAM,CAAC,IAAvD,EADJ,CADJ,CAII,+BAEK3B,cAAc,CACX,2BAAK,SAAS,CAAC,wBAAf,EACI,4BAAM,SAAS,CAAC,WAAhB,EAA6BF,YAA7B,CADJ,CADW,CAGF,IALjB,CAMI,2BAAK,SAAS,CAAC,YAAf,EACI,6BAAO,QAAQ,CAAE,kBAACS,CAAD,QAAOhB,CAAAA,OAAO,CAACgB,CAAC,CAACqB,MAAF,CAASC,KAAV,CAAd,EAAjB,CAAiD,KAAK,CAAEvC,IAAxD,CAA8D,IAAI,CAAC,MAAnE,CAA0E,QAAQ,KAAlF,CAAmF,SAAS,CAAC,oCAA7F,CAAkI,KAAK,CAAE,CAAEwC,MAAM,CAAE,EAAV,CAAcC,OAAO,CAAE,GAAvB,CAAzI,CAAuK,WAAW,CAAC,MAAnL,EADJ,CANJ,CASI,2BAAK,SAAS,CAAC,YAAf,EACI,6BAAO,QAAQ,CAAE,kBAACxB,CAAD,QAAOd,CAAAA,QAAQ,CAACc,CAAC,CAACqB,MAAF,CAASC,KAAV,CAAf,EAAjB,CAAkD,KAAK,CAAErC,KAAzD,CAAgE,IAAI,CAAC,MAArE,CAA4E,QAAQ,KAApF,CAAqF,SAAS,CAAC,oCAA/F,CAAoI,KAAK,CAAE,CAAEsC,MAAM,CAAE,EAAV,CAAcC,OAAO,CAAE,GAAvB,CAA3I,CAAyK,WAAW,CAAC,eAArL,EADJ,CATJ,CAYI,2BAAK,SAAS,CAAC,YAAf,EACI,6BAAO,QAAQ,CAAE,kBAACxB,CAAD,QAAOZ,CAAAA,WAAW,CAACY,CAAC,CAACqB,MAAF,CAASC,KAAV,CAAlB,EAAjB,CAAqD,KAAK,CAAEnC,QAA5D,CAAsE,IAAI,CAAC,UAA3E,CAAsF,QAAQ,KAA9F,CAA+F,SAAS,CAAC,oCAAzG,CAA8I,KAAK,CAAE,CAAEoC,MAAM,CAAE,EAAV,CAAcC,OAAO,CAAE,GAAvB,CAArJ,CAAmL,WAAW,CAAC,UAA/L,EADJ,CAZJ,CAeI,2BAAK,SAAS,CAAC,iBAAf,EACI,6BAAO,QAAQ,CAAE,kBAACxB,CAAD,QAAOV,CAAAA,kBAAkB,CAACU,CAAC,CAACqB,MAAF,CAASC,KAAV,CAAzB,EAAjB,CAA4D,KAAK,CAAEjC,eAAnE,CAAoF,IAAI,CAAC,UAAzF,CAAoG,QAAQ,KAA5G,CAA6G,SAAS,CAAC,oCAAvH,CAA4J,KAAK,CAAE,CAAEkC,MAAM,CAAE,EAAV,CAAcC,OAAO,CAAE,GAAvB,CAAnK,CAAiM,WAAW,CAAC,kBAA7M,EADJ,CAfJ,CAkBI,2BAAK,KAAK,CAAE,CAAEC,SAAS,CAAE,MAAb,CAAqBC,aAAa,CAAE,QAApC,CAAZ,CAA4D,SAAS,CAAC,aAAtE,EACI,0BAAI,SAAS,CAAC,qBAAd,8BAA6D,4BAAM,KAAK,CAAE,CAAEC,KAAK,CAAE,SAAT,CAAoBC,MAAM,CAAE,SAA5B,CAAb,CAAsD,OAAO,CAAEb,wBAA/D,CAAyF,SAAS,CAAC,oBAAnG,eAA7D,CADJ,CAlBJ,CAJJ,CA0BI,+BACI,8BAAQ,IAAI,CAAC,QAAb,CAAsB,QAAQ,CAAElC,uBAAhC,CAAyD,SAAS,CAAC,uCAAnE,aADJ,CA1BJ,CAFJ,CADJ,CAmCH,CAhHD,CAiHA,cAAeF,CAAAA,YAAf","sourcesContent":["import React, { useState } from 'react'\nimport { attemptRegister } from '../../../services/Auth'\nimport Notifications, { notify } from 'react-notify-toast';\n\n// Images\nimport bigasLogo from '../../../assets/images/general/logo.svg'\n\n\nconst RegisterForm = props => {\n\n    const [isRegistrationSubmitted, setIsRegistrationSubmitted] = useState(false)\n    const [name, setName] = useState('')\n    const [email, setEmail] = useState('')\n    const [password, setPassword] = useState('')\n    const [confirmPassword, setConfirmPassword] = useState('')\n    const [errorMessage, setErrorMessage] = useState('')\n    const [registerFailed, setRegisterFailed] = useState(false)\n\n    const isEmailValid = () => {\n        if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(email)) {\n            return true;\n        }\n        setErrorMessage(\"Your E-mail address is invalid\")\n        return false;\n    }\n\n    const isPasswordValid = () => {\n        if (password.length >= 8 && password === confirmPassword) {\n            return true;\n        }\n        else {\n            if (password.length < 8)\n                setErrorMessage(\"Password must have a minimum of 8 characters\")\n            if (confirmPassword !== password)\n                setErrorMessage(\"Plese confirm your password again\")\n        }\n        return false;\n    }\n\n    const registerHandler = e => {\n        e.preventDefault()\n\n        if (isEmailValid() && isPasswordValid()) {\n            setIsRegistrationSubmitted(true)\n            setRegisterFailed(false)\n\n            const newContributor = {\n                name: name,\n                email: email,\n                password: password\n            }\n\n            console.log(\"newContributor => \", newContributor);\n\n            attemptRegister(newContributor).then(function (result) {\n                if (result.code == 200) {\n                    notify.show(\"Account created! Redirecting to Login...\", 'success', 1000)\n                    setTimeout(() => props.history.push('/auth/login'), 1000)\n                }\n                else {\n                    notify.show(result.msg, 'error', 1000)\n                    setIsRegistrationSubmitted(false)\n                }\n                // console.log(result);\n            }).catch(error => {\n                notify.show(\"An error has occured, please try again later!\", 'error', 1000)\n                setIsRegistrationSubmitted(false)\n            });\n\n        }\n        else {\n            // notify.show(errorMessage, 'error', 1000)\n            setRegisterFailed(true);\n        }\n\n    }\n\n    const switchToLoginFormHandler = e => {\n        console.log(\"Login\");\n        e.preventDefault()\n\n        props.history.push('/auth/login');\n\n    }\n\n    return (\n        <div className=\"card-body text-center\" style={{ paddingLeft: 109, paddingRight: 109, paddingTop: 35, paddingBottom: 35 }}>\n            <Notifications />\n            <form className=\"d-flex flex-column justify-content-between h-100\" onSubmit={registerHandler}>\n                <div>\n                    <img alt=\"Cigarworld Indonesia\" src={bigasLogo} height=\"80\" />\n                </div>\n                <div>\n\n                    {registerFailed ?\n                        <div className=\"alert alert-danger p-1\">\n                            <span className=\"smallFont\">{errorMessage}</span>\n                        </div> : null}\n                    <div className=\"form-group\">\n                        <input onChange={(e) => setName(e.target.value)} value={name} type=\"text\" required className=\"form-control greySmooth normalFont\" style={{ height: 45, opacity: 0.5 }} placeholder=\"Name\" />\n                    </div>\n                    <div className=\"form-group\">\n                        <input onChange={(e) => setEmail(e.target.value)} value={email} type=\"text\" required className=\"form-control greySmooth normalFont\" style={{ height: 45, opacity: 0.5 }} placeholder=\"Email Address\" />\n                    </div>\n                    <div className=\"form-group\">\n                        <input onChange={(e) => setPassword(e.target.value)} value={password} type=\"password\" required className=\"form-control greySmooth normalFont\" style={{ height: 45, opacity: 0.5 }} placeholder=\"Password\" />\n                    </div>\n                    <div className=\"form-group mb-0\">\n                        <input onChange={(e) => setConfirmPassword(e.target.value)} value={confirmPassword} type=\"password\" required className=\"form-control greySmooth normalFont\" style={{ height: 45, opacity: 0.5 }} placeholder=\"Confirm Password\" />\n                    </div>\n                    <div style={{ marginTop: '45px', letterSpacing: '0.08px' }} className=\"text-center\">\n                        <h5 className=\"mb-0 dusk smallFont\">Already have an account? <span style={{ color: '#f5a623', cursor: \"pointer\" }} onClick={switchToLoginFormHandler} className=\"fontWeightSemiBold\">Login here</span></h5>\n                    </div>\n                </div>\n                <div>\n                    <button type=\"submit\" disabled={isRegistrationSubmitted} className=\"buttonDefault fluidWidth rounded-pill\">Register</button>\n                </div>\n            </form>\n        </div>\n    )\n}\nexport default RegisterForm"]},"metadata":{},"sourceType":"module"}