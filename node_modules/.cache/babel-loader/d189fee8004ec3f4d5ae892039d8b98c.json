{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/react/gooroo-coding-test-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/react/gooroo-coding-test-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import{API_URL}from'../utils/Variables';export var authenticateToken=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var authToken,headers;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:authToken=localStorage.getItem('authToken');headers={'Content-Type':'application/json','Authorization':authToken};_context.next=4;return axios.post(API_URL+'auth/token',{headers:headers}).then(function(response){console.log(response);return{data:response.data};}).catch(function(error){console.log(error);return{data:error};});case 4:case\"end\":return _context.stop();}}},_callee);}));return function authenticateToken(){return _ref.apply(this,arguments);};}();export var attemptLogin=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(contributor){var statusInt,authToken,email,password;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:statusInt=0;authToken=null;email=contributor.email,password=contributor.password;_context2.next=5;return axios.post(API_URL+'auth/login',{email:email,password:password}).then(function(response){console.log(\"attemptLogin Response => \",response);if(response.data.status){statusInt=response.data.data.authToken?1:2;authToken=response.data.data.authToken?response.data.data.authToken:null;}else{statusInt=2;authToken=null;}}).catch(function(error){console.log(\"attemptLogin Error => \",error);statusInt=3;});case 5:return _context2.abrupt(\"return\",{statusInt:statusInt,authToken:authToken});case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function attemptLogin(_x){return _ref2.apply(this,arguments);};}();export var attemptLogout=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var authToken,headers;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:authToken=localStorage.getItem('authToken');headers={'Content-Type':'application/json','Authorization':authToken};_context3.next=4;return axios.post(API_URL+'auth/logout',{headers:headers}).then(function(response){console.log(response);localStorage.removeItem('authToken');}).catch(function(error){console.log(error);});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function attemptLogout(){return _ref3.apply(this,arguments);};}();export var attemptRegister=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(newContributor){var data,name,email,password;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:data=[];name=newContributor.name,email=newContributor.email,password=newContributor.password;_context4.next=4;return axios.post(API_URL+'auth/register',{name:name,email:email,password:password}).then(function(response){console.log(\"attemptRegister Response => \",response);data=response.data;}).catch(function(error){console.log(\"attemptRegister Error => \",error);data=error;});case 4:return _context4.abrupt(\"return\",data);case 5:case\"end\":return _context4.stop();}}},_callee4);}));return function attemptRegister(_x2){return _ref4.apply(this,arguments);};}();export var setLocalUserData=function setLocalUserData(authToken,userData){localStorage.setItem('authToken',authToken);localStorage.setItem('userData',userData);};export var removeLocalUserData=function removeLocalUserData(){localStorage.removeItem('authToken');localStorage.removeItem('userData');};","map":{"version":3,"sources":["/Users/mac/react/gooroo-coding-test-client/src/services/Auth.js"],"names":["axios","API_URL","authenticateToken","authToken","localStorage","getItem","headers","post","then","response","console","log","data","catch","error","attemptLogin","contributor","statusInt","email","password","status","attemptLogout","removeItem","attemptRegister","newContributor","name","setLocalUserData","userData","setItem","removeLocalUserData"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport { API_URL } from '../utils/Variables';\n\nexport const authenticateToken = async () =>{\n\n    const authToken = localStorage.getItem('authToken');\n\n    const headers = {\n        'Content-Type': 'application/json',\n        'Authorization' : authToken\n    }\n\n    await axios.post(API_URL + 'auth/token', {headers : headers})\n    .then(function (response) {\n        console.log(response);\n        return {\n            data: response.data\n        }\n    })\n    .catch(function (error) {\n        console.log(error)\n        return {\n            data: error\n        }\n    });\n}\n\nexport const attemptLogin = async contributor =>{\n    \n    var statusInt = 0\n    let authToken = null\n    let { email, password } = contributor\n\n\n    await axios.post(API_URL+'auth/login', {\n        email,\n        password\n    })\n    .then(function (response) {\n        console.log(\"attemptLogin Response => \", response);\n        if(response.data.status){\n            statusInt = (response.data.data.authToken ? 1 : 2)\n            authToken = (response.data.data.authToken ? response.data.data.authToken : null)\n        }else{\n            statusInt = 2\n            authToken = null\n        }\n        \n    })\n    .catch(function (error) {\n        console.log(\"attemptLogin Error => \", error)\n        statusInt = 3\n    });\n\n    return {\n        statusInt,\n        authToken,\n    }\n}\n\nexport const attemptLogout = async () =>{\n\n    const authToken = localStorage.getItem('authToken');\n\n    const headers = {\n        'Content-Type': 'application/json',\n        'Authorization' : authToken\n    }\n\n\n    await axios.post(API_URL + 'auth/logout', {headers : headers})\n    .then(function (response) {\n        console.log(response);\n        localStorage.removeItem('authToken')\n    })\n    .catch(function (error) {\n        console.log(error)\n    });\n}\n\n\nexport const attemptRegister = async newContributor =>{\n    \n    var data = [];\n    let {name, email, password} = newContributor\n\n    await axios.post(API_URL+'auth/register', {\n        name,\n        email,\n        password\n    })\n    .then(function (response) {\n        console.log(\"attemptRegister Response => \", response);\n        data = response.data;\n        \n    })\n    .catch(function (error) {\n        console.log(\"attemptRegister Error => \", error)\n        data = error\n    });\n\n    return data\n}\n\nexport const setLocalUserData = (authToken, userData) =>{\n    localStorage.setItem('authToken', authToken)\n    localStorage.setItem('userData', userData)\n}\nexport const removeLocalUserData = () => {\n    localStorage.removeItem('authToken')\n    localStorage.removeItem('userData')\n}"]},"metadata":{},"sourceType":"module"}