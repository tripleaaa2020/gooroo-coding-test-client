{"ast":null,"code":"import axios from 'axios';\nimport { API_URL } from '../utils/Variables';\nexport const attemptLogin = async contributor => {\n  var statusInt = 0;\n  let token = '';\n  let {\n    email,\n    password\n  } = contributor;\n  await axios.post(API_URL + 'auth/login', {\n    email,\n    password\n  }).then(function (response) {\n    console.log(\"attemptLogin Response => \", response); // setLocalStorageAuth(response.data.data.token);\n    // return response.data;\n\n    if (response.data.status) {\n      statusInt = response.data.data.login ? 1 : 2;\n      token = response.data.data.login ? response.data.data.token : '';\n    } else {\n      statusInt = 2;\n      token = null;\n    }\n  }).catch(function (error) {\n    console.log(\"attemptLogin Error => \", error);\n    statusInt = 3;\n  });\n  return {\n    statusInt,\n    token\n  };\n};\nexport const attemptRegister = async newContributor => {\n  var statusInt = 0;\n  let token = '';\n  let {\n    name,\n    email,\n    password\n  } = newContributor;\n  await axios.post(API_URL + 'auth/register', {\n    name,\n    email,\n    password\n  }).then(function (response) {\n    console.log(\"attemptRegister Response => \", response); // if(response.data.status){\n    //     statusInt = (response.data.data.login ? 1 : 2)\n    //     token = (response.data.data.login ? response.data.data.token : '')\n    // }else{\n    //     statusInt = 2\n    //     token = null\n    // }\n  }).catch(function (error) {\n    console.log(\"attemptRegister Error => \", error); // statusInt = 3\n  });\n  return {\n    statusInt,\n    token\n  };\n};\nexport const setLocalStorageAuth = authToken => {\n  localStorage.setItem('authToken', authToken);\n};\nexport const removeLocalStorageAuth = () => {\n  localStorage.removeItem('authToken');\n};","map":{"version":3,"sources":["/Users/mac/react/gooroo-coding-test/bigas-library-client/src/services/Auth.js"],"names":["axios","API_URL","attemptLogin","contributor","statusInt","token","email","password","post","then","response","console","log","data","status","login","catch","error","attemptRegister","newContributor","name","setLocalStorageAuth","authToken","localStorage","setItem","removeLocalStorageAuth","removeItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,oBAAxB;AAEA,OAAO,MAAMC,YAAY,GAAG,MAAMC,WAAN,IAAoB;AAE5C,MAAIC,SAAS,GAAG,CAAhB;AACA,MAAIC,KAAK,GAAG,EAAZ;AACA,MAAI;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAsBJ,WAA1B;AAGA,QAAMH,KAAK,CAACQ,IAAN,CAAWP,OAAO,GAAC,YAAnB,EAAiC;AACnCK,IAAAA,KADmC;AAEnCC,IAAAA;AAFmC,GAAjC,EAILE,IAJK,CAIA,UAAUC,QAAV,EAAoB;AACtBC,IAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCF,QAAzC,EADsB,CAEtB;AACA;;AACA,QAAGA,QAAQ,CAACG,IAAT,CAAcC,MAAjB,EAAwB;AACpBV,MAAAA,SAAS,GAAIM,QAAQ,CAACG,IAAT,CAAcA,IAAd,CAAmBE,KAAnB,GAA2B,CAA3B,GAA+B,CAA5C;AACAV,MAAAA,KAAK,GAAIK,QAAQ,CAACG,IAAT,CAAcA,IAAd,CAAmBE,KAAnB,GAA2BL,QAAQ,CAACG,IAAT,CAAcA,IAAd,CAAmBR,KAA9C,GAAsD,EAA/D;AACH,KAHD,MAGK;AACDD,MAAAA,SAAS,GAAG,CAAZ;AACAC,MAAAA,KAAK,GAAG,IAAR;AACH;AAEJ,GAhBK,EAiBLW,KAjBK,CAiBC,UAAUC,KAAV,EAAiB;AACpBN,IAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCK,KAAtC;AACAb,IAAAA,SAAS,GAAG,CAAZ;AACH,GApBK,CAAN;AAsBA,SAAO;AACHA,IAAAA,SADG;AAEHC,IAAAA;AAFG,GAAP;AAIH,CAjCM;AAmCP,OAAO,MAAMa,eAAe,GAAG,MAAMC,cAAN,IAAuB;AAElD,MAAIf,SAAS,GAAG,CAAhB;AACA,MAAIC,KAAK,GAAG,EAAZ;AACA,MAAI;AAACe,IAAAA,IAAD;AAAOd,IAAAA,KAAP;AAAcC,IAAAA;AAAd,MAA0BY,cAA9B;AAEA,QAAMnB,KAAK,CAACQ,IAAN,CAAWP,OAAO,GAAC,eAAnB,EAAoC;AACtCmB,IAAAA,IADsC;AAEtCd,IAAAA,KAFsC;AAGtCC,IAAAA;AAHsC,GAApC,EAKLE,IALK,CAKA,UAAUC,QAAV,EAAoB;AACtBC,IAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4CF,QAA5C,EADsB,CAEtB;AACA;AACA;AACA;AACA;AACA;AACA;AAEH,GAfK,EAgBLM,KAhBK,CAgBC,UAAUC,KAAV,EAAiB;AACpBN,IAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCK,KAAzC,EADoB,CAEpB;AACH,GAnBK,CAAN;AAqBA,SAAO;AACHb,IAAAA,SADG;AAEHC,IAAAA;AAFG,GAAP;AAIH,CA/BM;AAiCP,OAAO,MAAMgB,mBAAmB,GAAIC,SAAD,IAAc;AAC7CC,EAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCF,SAAlC;AACH,CAFM;AAGP,OAAO,MAAMG,sBAAsB,GAAG,MAAM;AACxCF,EAAAA,YAAY,CAACG,UAAb,CAAwB,WAAxB;AACH,CAFM","sourcesContent":["import axios from 'axios'\nimport { API_URL } from '../utils/Variables';\n\nexport const attemptLogin = async contributor =>{\n    \n    var statusInt = 0\n    let token = ''\n    let { email, password } = contributor\n\n\n    await axios.post(API_URL+'auth/login', {\n        email,\n        password\n    })\n    .then(function (response) {\n        console.log(\"attemptLogin Response => \", response);\n        // setLocalStorageAuth(response.data.data.token);\n        // return response.data;\n        if(response.data.status){\n            statusInt = (response.data.data.login ? 1 : 2)\n            token = (response.data.data.login ? response.data.data.token : '')\n        }else{\n            statusInt = 2\n            token = null\n        }\n        \n    })\n    .catch(function (error) {\n        console.log(\"attemptLogin Error => \", error)\n        statusInt = 3\n    });\n\n    return {\n        statusInt,\n        token\n    }\n}\n\nexport const attemptRegister = async newContributor =>{\n    \n    var statusInt = 0;\n    let token = '';\n    let {name, email, password} = newContributor\n\n    await axios.post(API_URL+'auth/register', {\n        name,\n        email,\n        password\n    })\n    .then(function (response) {\n        console.log(\"attemptRegister Response => \", response);\n        // if(response.data.status){\n        //     statusInt = (response.data.data.login ? 1 : 2)\n        //     token = (response.data.data.login ? response.data.data.token : '')\n        // }else{\n        //     statusInt = 2\n        //     token = null\n        // }\n        \n    })\n    .catch(function (error) {\n        console.log(\"attemptRegister Error => \", error)\n        // statusInt = 3\n    });\n\n    return {\n        statusInt,\n        token\n    }\n}\n\nexport const setLocalStorageAuth = (authToken) =>{\n    localStorage.setItem('authToken', authToken)\n}\nexport const removeLocalStorageAuth = () => {\n    localStorage.removeItem('authToken')\n}"]},"metadata":{},"sourceType":"module"}