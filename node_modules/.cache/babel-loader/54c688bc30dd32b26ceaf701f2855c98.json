{"ast":null,"code":"var _jsxFileName = \"/Users/mac/react/gooroo-coding-test/bigas-library-client/src/display/sections/ListSection.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { SET_LIBRARY_BOOKS } from '../../store/actions/LibraryActions';\nimport { SET_MY_BOOKS } from '../../store/actions/MyBooksActions';\nimport { getAllBooks } from '../../services/Books';\nimport Book from '../components/book/BookComponent';\nimport './ListSection.scss';\n\nconst ListSection = props => {\n  console.log(\"ListSection props => \", props);\n  const userData = JSON.parse(localStorage.getItem(\"userData\"));\n  const booksListReducer = useSelector(state => props.from === \"Library\" ? state.lib : state.mybook);\n  const {\n    books,\n    activeCategories,\n    searchValue\n  } = booksListReducer;\n  const dispatch = useDispatch();\n  console.log(\"books => \", books);\n\n  const setBooks = books => {\n    let type = props.from === \"Library\" ? SET_LIBRARY_BOOKS : SET_MY_BOOKS;\n    dispatch({\n      type,\n      books\n    });\n  };\n\n  useEffect(() => {\n    getAllBooks(userData.contributorID, activeCategories, props.from).then(response => setBooks(response.data.rows));\n  }, [dispatch, activeCategories, props.location.state]);\n  return React.createElement(\"div\", {\n    style: {\n      backgroundColor: 'transparent'\n    },\n    className: \"pt-3 mt-3 px-3 rounded\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row books-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, books.map((book, i) => {\n    return React.createElement(\"div\", {\n      className: \"col-6 col-lg-3\",\n      key: book.bookID,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(Book, Object.assign({}, props, {\n      isAddBook: false,\n      bookID: book.bookID,\n      title: book.title,\n      author: book.author,\n      publisher: book.publisher,\n      categoryID: book.categoryID,\n      contributorID: book.contributorID,\n      contributorName: book.contributors.contributorName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }))));\n  }), props.from === \"MyBooks\" && React.createElement(\"div\", {\n    className: \"col-6 col-lg-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"/my-books/add\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(Book, Object.assign({}, props, {\n    isAddBook: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }))))));\n};\n\nexport default ListSection;","map":{"version":3,"sources":["/Users/mac/react/gooroo-coding-test/bigas-library-client/src/display/sections/ListSection.js"],"names":["React","useState","useEffect","useSelector","useDispatch","SET_LIBRARY_BOOKS","SET_MY_BOOKS","getAllBooks","Book","ListSection","props","console","log","userData","JSON","parse","localStorage","getItem","booksListReducer","state","from","lib","mybook","books","activeCategories","searchValue","dispatch","setBooks","type","contributorID","then","response","data","rows","location","backgroundColor","map","book","i","bookID","title","author","publisher","categoryID","contributors","contributorName"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,iBAAT,QAAkC,oCAAlC;AACA,SAASC,YAAT,QAA6B,oCAA7B;AACA,SAASC,WAAT,QAA4B,sBAA5B;AAEA,OAAOC,IAAP,MAAiB,kCAAjB;AACA,OAAO,oBAAP;;AAEA,MAAMC,WAAW,GAAGC,KAAK,IAAI;AAEzBC,EAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCF,KAArC;AAEA,QAAMG,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAjB;AAEA,QAAMC,gBAAgB,GAAGf,WAAW,CAACgB,KAAK,IAAKT,KAAK,CAACU,IAAN,KAAe,SAAhB,GAA6BD,KAAK,CAACE,GAAnC,GAAyCF,KAAK,CAACG,MAAzD,CAApC;AACA,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA,gBAAT;AAA2BC,IAAAA;AAA3B,MAA2CP,gBAAjD;AACA,QAAMQ,QAAQ,GAAGtB,WAAW,EAA5B;AAEAO,EAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBW,KAAzB;;AAEA,QAAMI,QAAQ,GAAIJ,KAAD,IAAW;AACxB,QAAIK,IAAI,GAAGlB,KAAK,CAACU,IAAN,KAAe,SAAf,GAA2Bf,iBAA3B,GAA+CC,YAA1D;AACAoB,IAAAA,QAAQ,CAAC;AAAEE,MAAAA,IAAF;AAAQL,MAAAA;AAAR,KAAD,CAAR;AACH,GAHD;;AAKArB,EAAAA,SAAS,CAAC,MAAM;AACZK,IAAAA,WAAW,CAACM,QAAQ,CAACgB,aAAV,EAAyBL,gBAAzB,EAA2Cd,KAAK,CAACU,IAAjD,CAAX,CACKU,IADL,CACUC,QAAQ,IAAIJ,QAAQ,CAACI,QAAQ,CAACC,IAAT,CAAcC,IAAf,CAD9B;AAEH,GAHQ,EAGN,CAACP,QAAD,EAAWF,gBAAX,EAA6Bd,KAAK,CAACwB,QAAN,CAAef,KAA5C,CAHM,CAAT;AAKA,SACI;AAAK,IAAA,KAAK,EAAE;AAAEgB,MAAAA,eAAe,EAAE;AAAnB,KAAZ;AAAgD,IAAA,SAAS,EAAC,wBAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKZ,KAAK,CAACa,GAAN,CAAU,CAACC,IAAD,EAAOC,CAAP,KAAa;AACpB,WACI;AAAK,MAAA,SAAS,EAAE,gBAAhB;AAAkC,MAAA,GAAG,EAAED,IAAI,CAACE,MAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAG,MAAA,IAAI,EAAE,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD,oBACQ7B,KADR;AAEI,MAAA,SAAS,EAAE,KAFf;AAGI,MAAA,MAAM,EAAE2B,IAAI,CAACE,MAHjB;AAII,MAAA,KAAK,EAAEF,IAAI,CAACG,KAJhB;AAKI,MAAA,MAAM,EAAEH,IAAI,CAACI,MALjB;AAMI,MAAA,SAAS,EAAEJ,IAAI,CAACK,SANpB;AAOI,MAAA,UAAU,EAAEL,IAAI,CAACM,UAPrB;AAQI,MAAA,aAAa,EAAEN,IAAI,CAACR,aARxB;AASI,MAAA,eAAe,EAAEQ,IAAI,CAACO,YAAL,CAAkBC,eATvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADJ,CADJ,CADJ;AAiBH,GAlBA,CADL,EAoBKnC,KAAK,CAACU,IAAN,KAAe,SAAf,IACG;AAAK,IAAA,SAAS,EAAE,gBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAG,IAAA,IAAI,EAAE,eAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD,oBAAUV,KAAV;AAAiB,IAAA,SAAS,EAAE,IAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADJ,CADJ,CArBR,CADJ,CADJ;AAgCH,CAtDD;;AAuDA,eAAeD,WAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { SET_LIBRARY_BOOKS } from '../../store/actions/LibraryActions';\nimport { SET_MY_BOOKS } from '../../store/actions/MyBooksActions';\nimport { getAllBooks } from '../../services/Books';\n\nimport Book from '../components/book/BookComponent';\nimport './ListSection.scss';\n\nconst ListSection = props => {\n\n    console.log(\"ListSection props => \", props);\n\n    const userData = JSON.parse(localStorage.getItem(\"userData\"));\n\n    const booksListReducer = useSelector(state => (props.from === \"Library\") ? state.lib : state.mybook);\n    const { books, activeCategories, searchValue } = booksListReducer;\n    const dispatch = useDispatch();\n\n    console.log(\"books => \", books);\n\n    const setBooks = (books) => {\n        let type = props.from === \"Library\" ? SET_LIBRARY_BOOKS : SET_MY_BOOKS;\n        dispatch({ type, books })\n    }\n\n    useEffect(() => {\n        getAllBooks(userData.contributorID, activeCategories, props.from)\n            .then(response => setBooks(response.data.rows));\n    }, [dispatch, activeCategories, props.location.state])\n\n    return (\n        <div style={{ backgroundColor: 'transparent' }} className=\"pt-3 mt-3 px-3 rounded\">\n            <div className=\"row books-list\">\n                {books.map((book, i) => {\n                    return (\n                        <div className={\"col-6 col-lg-3\"} key={book.bookID}>\n                            <a href={\"#\"}>\n                                <Book\n                                    {...props}\n                                    isAddBook={false}\n                                    bookID={book.bookID}\n                                    title={book.title}\n                                    author={book.author}\n                                    publisher={book.publisher}\n                                    categoryID={book.categoryID}\n                                    contributorID={book.contributorID}\n                                    contributorName={book.contributors.contributorName}\n                                />\n                            </a>\n                        </div>\n                    );\n                })}\n                {props.from === \"MyBooks\" &&\n                    <div className={\"col-6 col-lg-3\"}>\n                        <a href={\"/my-books/add\"}>\n                            <Book {...props} isAddBook={true} />\n                        </a>\n                    </div>\n                }\n            </div>\n        </div>\n    )\n}\nexport default ListSection"]},"metadata":{},"sourceType":"module"}