{"ast":null,"code":"import React from\"react\";import{useSelector,useDispatch}from\"react-redux\";import Notifications,{notify}from'react-notify-toast';import Modal from\"react-modal\";import{ON_HIDE_DELETE_MODAL}from'../../../store/actions/NavigationActions';import{deleteBook}from'../../../services/Books';// image\nimport RemoveIcon from\"../../../assets/images/icons/remove-icon.svg\";import IconClose from\"../../../assets/images/icons/close-popup-icon.svg\";Modal.setAppElement(\"#root\");var DeleteBookModal=function DeleteBookModal(props){console.log(\"DeleteBookModal props => \",props);var nav=useSelector(function(state){return state.nav;});var dispatch=useDispatch();var bookID=props.bookID;var closeModal=function closeModal(){props.history.push(\"/my-books\");dispatch({type:ON_HIDE_DELETE_MODAL});};var deleteBookHandler=function deleteBookHandler(){deleteBook(bookID).then(function(res){if(res.code==200){notify.show(\"Book successfully deleted!\",'success',1000);}else{notify.show(\"An error has occured, please try again later!\",'error',1000);}dispatch({type:ON_HIDE_DELETE_MODAL});setTimeout(function(){return props.history.push('/my-books',{deleted:true});},1000);}).catch(function(err){console.log(err);notify.show(\"An error has occured, please try again later!\",'error',1000);dispatch({type:ON_HIDE_DELETE_MODAL});setTimeout(function(){return props.history.push('/my-books');},1000);});};var customStyles={content:{top:\"50%\",left:\"50%\",right:\"auto\",bottom:\"auto\",marginRight:\"-50%\",transform:\"translate(-50%, -50%)\",zIndex:\"20\",padding:\"40px 20px 30px\",overflow:\"none\",width:\"360px\",borderRadius:\"8px\",textAlign:\"center\"},overlay:{backgroundColor:\"rgba(0, 0, 0, 0.2)\",zIndex:\"20\"}};return React.createElement(\"div\",null,React.createElement(Notifications,null),React.createElement(Modal,{isOpen:nav.showDeleteModal,style:customStyles,contentLabel:\"Example Modal\",onRequestClose:function onRequestClose(){return closeModal();}},React.createElement(\"img\",{alt:\"Close\",src:IconClose,className:\"position-absolute cursorPointer\",style:{right:'10px',top:'10px'},onClick:function onClick(){return closeModal();}}),React.createElement(\"img\",{alt:\"Del\",src:RemoveIcon,className:\"mb-3\"}),React.createElement(\"div\",{className:\"greyDefault normalFont font-weight-bold text-center\"},React.createElement(\"span\",null,\"Delete Book\")),React.createElement(\"div\",{className:\"greyDefault smallFont text-center mx-auto mt-3\"},React.createElement(\"span\",null,\"Are you sure you want to delete this book from your collection?\")),React.createElement(\"div\",{className:\"d-flex w-100 justify-content-around mt-3\"},React.createElement(\"button\",{className:\"buttonRounded d-inline-block px-4\",onClick:function onClick(){return closeModal();}},\"No\"),React.createElement(\"button\",{className:\"buttonRounded d-inline-block px-4\",onClick:function onClick(){return deleteBookHandler();}},\"Yes\"))));};export default DeleteBookModal;","map":{"version":3,"sources":["/Users/mac/react/gooroo-coding-test-client/src/display/components/modal/DeleteBookModal.js"],"names":["React","useSelector","useDispatch","Notifications","notify","Modal","ON_HIDE_DELETE_MODAL","deleteBook","setAppElement","DeleteBookModal","props","console","log","nav","state","dispatch","bookID","closeModal","history","push","type","deleteBookHandler","then","res","code","show","setTimeout","deleted","catch","err","customStyles","content","top","left","right","bottom","marginRight","transform","zIndex","padding","overflow","width","borderRadius","textAlign","overlay","backgroundColor","showDeleteModal","IconClose","RemoveIcon"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { useSelector, useDispatch } from \"react-redux\"\nimport Notifications, { notify } from 'react-notify-toast';\nimport Modal from \"react-modal\"\n\nimport { ON_HIDE_DELETE_MODAL } from '../../../store/actions/NavigationActions'\nimport { deleteBook } from '../../../services/Books';\n\n// image\nimport RemoveIcon from '../../../assets/images/icons/remove-icon.svg'\nimport IconClose from \"../../../assets/images/icons/close-popup-icon.svg\";\n\nModal.setAppElement(\"#root\");\n\nconst DeleteBookModal = (props) => {\n\n    console.log(\"DeleteBookModal props => \", props);\n\n    const nav = useSelector(state => state.nav);\n    const dispatch = useDispatch();\n    const bookID = props.bookID;\n\n    const closeModal = () => {\n        props.history.push(\"/my-books\");\n        dispatch({ type: ON_HIDE_DELETE_MODAL })\n    }\n\n    const deleteBookHandler = () => {\n        deleteBook(bookID).then(res => {\n            if (res.code == 200) {\n                notify.show(\"Book successfully deleted!\", 'success', 1000)\n            }\n            else {\n                notify.show(\"An error has occured, please try again later!\", 'error', 1000)\n            }\n            dispatch({ type: ON_HIDE_DELETE_MODAL })\n            setTimeout(() => props.history.push('/my-books', {deleted: true}), 1000)\n        }).catch(err => {\n            console.log(err);\n            notify.show(\"An error has occured, please try again later!\", 'error', 1000)\n            dispatch({ type: ON_HIDE_DELETE_MODAL })\n            setTimeout(() => props.history.push('/my-books'), 1000)\n        })\n    }\n\n    const customStyles = {\n        content: {\n            top: \"50%\",\n            left: \"50%\",\n            right: \"auto\",\n            bottom: \"auto\",\n            marginRight: \"-50%\",\n            transform: \"translate(-50%, -50%)\",\n            zIndex: \"20\",\n            padding: \"40px 20px 30px\",\n            overflow: \"none\",\n            width: \"360px\",\n            borderRadius: \"8px\",\n            textAlign: \"center\"\n        },\n        overlay: {\n            backgroundColor: \"rgba(0, 0, 0, 0.2)\",\n            zIndex: \"20\"\n        }\n    }\n    return (\n        <div>\n            <Notifications />\n            <Modal isOpen={nav.showDeleteModal} style={customStyles} contentLabel=\"Example Modal\" onRequestClose={() => closeModal()}>\n            {/* <Notifications /> */}\n                <img alt=\"Close\" src={IconClose} className=\"position-absolute cursorPointer\" style={{ right: '10px', top: '10px' }} onClick={() => closeModal()} />\n                <img alt=\"Del\" src={RemoveIcon} className=\"mb-3\" />\n                <div className=\"greyDefault normalFont font-weight-bold text-center\">\n                    <span>Delete Book</span>\n                </div>\n                <div className=\"greyDefault smallFont text-center mx-auto mt-3\">\n                    <span>\n                        Are you sure you want to delete this book from your collection?\n                    </span>\n                </div>\n                <div className=\"d-flex w-100 justify-content-around mt-3\">\n                    <button className=\"buttonRounded d-inline-block px-4\" onClick={() => closeModal()}>No</button>\n                    <button className=\"buttonRounded d-inline-block px-4\" onClick={() => deleteBookHandler()}>Yes</button>\n                </div>\n            </Modal>\n        </div>\n    )\n}\n\nexport default DeleteBookModal"]},"metadata":{},"sourceType":"module"}