{"ast":null,"code":"import axios from 'axios';\nimport { API_URL } from '../utils/Variables';\nexport const authenticateToken = async () => {\n  const authToken = localStorage.getItem('authToken');\n  const headers = {\n    'Content-Type': 'application/json',\n    'Authorization': authToken\n  };\n  await axios.post(API_URL + 'auth/token', {\n    headers: headers\n  }).then(function (response) {\n    console.log(response);\n    return {\n      data: response.data\n    };\n  }).catch(function (error) {\n    console.log(error);\n    return {\n      data: error\n    };\n  });\n};\nexport const attemptLogin = async contributor => {\n  var statusInt = 0;\n  let authToken = null;\n  let {\n    email,\n    password\n  } = contributor;\n  await axios.post(API_URL + 'auth/login', {\n    email,\n    password\n  }).then(function (response) {\n    console.log(\"attemptLogin Response => \", response);\n\n    if (response.data.status) {\n      statusInt = response.data.data.authToken ? 1 : 2;\n      authToken = response.data.data.authToken ? response.data.data.authToken : null;\n    } else {\n      statusInt = 2;\n      authToken = null;\n    }\n  }).catch(function (error) {\n    console.log(\"attemptLogin Error => \", error);\n    statusInt = 3;\n  });\n  return {\n    statusInt,\n    authToken\n  };\n};\nexport const attemptLogout = async () => {\n  const authToken = localStorage.getItem('authToken');\n  const headers = {\n    'Content-Type': 'application/json',\n    'Authorization': authToken\n  };\n  await axios.post(API_URL + 'auth/logout', {\n    headers: headers\n  }).then(function (response) {\n    console.log(response);\n    localStorage.removeItem('authToken');\n  }).catch(function (error) {\n    console.log(error);\n  });\n};\nexport const attemptRegister = async newContributor => {\n  var data = [];\n  let {\n    name,\n    email,\n    password\n  } = newContributor;\n  await axios.post(API_URL + 'auth/register', {\n    name,\n    email,\n    password\n  }).then(function (response) {\n    console.log(\"attemptRegister Response => \", response);\n    data = response.data;\n  }).catch(function (error) {\n    console.log(\"attemptRegister Error => \", error);\n    data = error;\n  });\n  return data;\n};\nexport const setLocalUserData = (authToken, userData) => {\n  localStorage.setItem('authToken', authToken);\n  localStorage.setItem('userData', userData);\n};\nexport const removeLocalUserData = () => {\n  localStorage.removeItem('authToken');\n  localStorage.removeItem('userData');\n};","map":{"version":3,"sources":["/Users/mac/react/gooroo-code-test/bigas-library-client/src/services/Auth.js"],"names":["axios","API_URL","authenticateToken","authToken","localStorage","getItem","headers","post","then","response","console","log","data","catch","error","attemptLogin","contributor","statusInt","email","password","status","attemptLogout","removeItem","attemptRegister","newContributor","name","setLocalUserData","userData","setItem","removeLocalUserData"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport { API_URL } from '../utils/Variables';\n\nexport const authenticateToken = async () =>{\n\n    const authToken = localStorage.getItem('authToken');\n\n    const headers = {\n        'Content-Type': 'application/json',\n        'Authorization' : authToken\n    }\n\n    await axios.post(API_URL + 'auth/token', {headers : headers})\n    .then(function (response) {\n        console.log(response);\n        return {\n            data: response.data\n        }\n    })\n    .catch(function (error) {\n        console.log(error)\n        return {\n            data: error\n        }\n    });\n}\n\nexport const attemptLogin = async contributor =>{\n    \n    var statusInt = 0\n    let authToken = null\n    let { email, password } = contributor\n\n\n    await axios.post(API_URL+'auth/login', {\n        email,\n        password\n    })\n    .then(function (response) {\n        console.log(\"attemptLogin Response => \", response);\n        if(response.data.status){\n            statusInt = (response.data.data.authToken ? 1 : 2)\n            authToken = (response.data.data.authToken ? response.data.data.authToken : null)\n        }else{\n            statusInt = 2\n            authToken = null\n        }\n        \n    })\n    .catch(function (error) {\n        console.log(\"attemptLogin Error => \", error)\n        statusInt = 3\n    });\n\n    return {\n        statusInt,\n        authToken,\n    }\n}\n\nexport const attemptLogout = async () =>{\n\n    const authToken = localStorage.getItem('authToken');\n\n    const headers = {\n        'Content-Type': 'application/json',\n        'Authorization' : authToken\n    }\n\n\n    await axios.post(API_URL + 'auth/logout', {headers : headers})\n    .then(function (response) {\n        console.log(response);\n        localStorage.removeItem('authToken')\n    })\n    .catch(function (error) {\n        console.log(error)\n    });\n}\n\nexport const attemptRegister = async newContributor =>{\n    \n    var data = [];\n    let {name, email, password} = newContributor\n\n    await axios.post(API_URL+'auth/register', {\n        name,\n        email,\n        password\n    })\n    .then(function (response) {\n        console.log(\"attemptRegister Response => \", response);\n        data = response.data;\n        \n    })\n    .catch(function (error) {\n        console.log(\"attemptRegister Error => \", error)\n        data = error\n    });\n\n    return data\n}\n\nexport const setLocalUserData = (authToken, userData) =>{\n    localStorage.setItem('authToken', authToken)\n    localStorage.setItem('userData', userData)\n}\nexport const removeLocalUserData = () => {\n    localStorage.removeItem('authToken')\n    localStorage.removeItem('userData')\n}"]},"metadata":{},"sourceType":"module"}