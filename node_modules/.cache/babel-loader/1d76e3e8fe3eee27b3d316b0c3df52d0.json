{"ast":null,"code":"import axios from \"axios\";\nimport { API_URL } from \"../utils/Variables\";\nexport const getAllBooks = async (contributorID, activeCategories, from) => {\n  var data;\n  var contributorIDQueryURL = \"\";\n  var categoriesQueryURL = \"\";\n\n  if (activeCategories.length > 0) {\n    categoriesQueryURL += \"?categoryID=\";\n\n    for (let i = 0; i < activeCategories.length; i++) {\n      if (i == 0) categoriesQueryURL += activeCategories[i];else categoriesQueryURL += \"&\" + activeCategories[i];\n    }\n\n    if (from !== \"Library\") contributorIDQueryURL += \"&contributorID=\" + contributorID;\n  } else {\n    if (from !== \"Library\") contributorIDQueryURL += \"?contributorID=\" + contributorID;\n  }\n\n  await axios.get(API_URL + \"books/all\" + contributorIDQueryURL + categoriesQueryURL).then(function (response) {\n    console.log(\"getAllBooks Response => \", response);\n    data = response.data;\n  }).catch(function (error) {\n    console.log(\"getAllBooks error => \", error);\n    data = error;\n  });\n  return data;\n};\nexport const getBookDetail = async bookID => {\n  var data;\n  await axios.get(API_URL + \"books/\" + bookID).then(function (response) {\n    console.log(\"getBookDetail Response => \", response); //   data = response.data\n  }).catch(function (error) {\n    console.log(\"getBookDetail error => \", error); //   data = error\n  });\n  return data;\n};\nexport const editBookDetails = async (bookID, updatedBookData) => {\n  const authToken = localStorage.getItem('authToken');\n  const headers = {\n    'Content-Type': 'application/json',\n    'Authorization': authToken\n  };\n  let data = [];\n  let statusInt = 0;\n  await axios.put(API_URL + '/books/' + bookID + '/edit', updatedBookData, {\n    headers: headers\n  }).then(function (response) {\n    console.log(\"editBookDetails Response => \", response); // if (response.data.code === 200) {\n    //     statusInt = 1\n    // } else {\n    //     statusInt = 2\n    // }\n    // data = response.data.data\n  }).catch(function (error) {\n    console.log(\"editBookDetails error => \", error); // statusInt = 3\n  });\n  return {\n    data,\n    statusInt\n  };\n};\nexport const createBook = async newBookData => {\n  const authToken = localStorage.getItem('authToken');\n  const headers = {\n    'Content-Type': 'application/json',\n    'Authorization': authToken\n  };\n  let result = [];\n  await axios.post(API_URL + 'book/create', newBookData, {\n    headers: headers\n  }).then(function (response) {\n    console.log(response); // result = response.data\n  }).catch(function (error) {\n    console.log(error);\n  });\n  return result;\n};\nexport const deleteBook = async bookID => {\n  const authToken = localStorage.getItem('authToken');\n  const headers = {\n    'Content-Type': 'application/json',\n    'Authorization': authToken\n  };\n  let result = [];\n  await axios.delete(API_URL + 'books/' + bookID + '/delete', {\n    headers: headers\n  }).then(function (response) {\n    console.log(response); // result = response.data\n  }).catch(function (error) {\n    console.log(error);\n  });\n  return result;\n};","map":{"version":3,"sources":["/Users/mac/react/gooroo-coding-test/bigas-library-client/src/services/Books.js"],"names":["axios","API_URL","getAllBooks","contributorID","activeCategories","from","data","contributorIDQueryURL","categoriesQueryURL","length","i","get","then","response","console","log","catch","error","getBookDetail","bookID","editBookDetails","updatedBookData","authToken","localStorage","getItem","headers","statusInt","put","createBook","newBookData","result","post","deleteBook","delete"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,oBAAxB;AAEA,OAAO,MAAMC,WAAW,GAAG,OAAOC,aAAP,EAAsBC,gBAAtB,EAAwCC,IAAxC,KAAiD;AAExE,MAAIC,IAAJ;AAEA,MAAIC,qBAAqB,GAAC,EAA1B;AACA,MAAIC,kBAAkB,GAAC,EAAvB;;AAEA,MAAGJ,gBAAgB,CAACK,MAAjB,GAA0B,CAA7B,EAAgC;AAE5BD,IAAAA,kBAAkB,IAAI,cAAtB;;AACA,SAAI,IAAIE,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACN,gBAAgB,CAACK,MAAhC,EAAwCC,CAAC,EAAzC,EAA6C;AACzC,UAAGA,CAAC,IAAE,CAAN,EACIF,kBAAkB,IAAIJ,gBAAgB,CAACM,CAAD,CAAtC,CADJ,KAGIF,kBAAkB,IAAI,MAAMJ,gBAAgB,CAACM,CAAD,CAA5C;AACP;;AAED,QAAGL,IAAI,KAAK,SAAZ,EACIE,qBAAqB,IAAI,oBAAoBJ,aAA7C;AACP,GAZD,MAaK;AACD,QAAGE,IAAI,KAAK,SAAZ,EACIE,qBAAqB,IAAI,oBAAoBJ,aAA7C;AACP;;AAED,QAAMH,KAAK,CACNW,GADC,CACGV,OAAO,GAAG,WAAV,GAAwBM,qBAAxB,GAAgDC,kBADnD,EAEDI,IAFC,CAEI,UAAUC,QAAV,EAAoB;AACtBC,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCF,QAAxC;AACEP,IAAAA,IAAI,GAAGO,QAAQ,CAACP,IAAhB;AACL,GALC,EAMDU,KANC,CAMK,UAAUC,KAAV,EAAiB;AACpBH,IAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCE,KAArC;AACEX,IAAAA,IAAI,GAAGW,KAAP;AACL,GATC,CAAN;AAWA,SAAOX,IAAP;AACH,CArCM;AAuCP,OAAO,MAAMY,aAAa,GAAG,MAAMC,MAAN,IAAgB;AAEzC,MAAIb,IAAJ;AAEA,QAAMN,KAAK,CACNW,GADC,CACGV,OAAO,GAAG,QAAV,GAAqBkB,MADxB,EAEDP,IAFC,CAEI,UAAUC,QAAV,EAAoB;AACtBC,IAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0CF,QAA1C,EADsB,CAEtB;AACH,GALC,EAMDG,KANC,CAMK,UAAUC,KAAV,EAAiB;AACpBH,IAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCE,KAAvC,EADoB,CAEpB;AACH,GATC,CAAN;AAWA,SAAOX,IAAP;AACH,CAhBM;AAkBP,OAAO,MAAMc,eAAe,GAAG,OAAOD,MAAP,EAAeE,eAAf,KAAmC;AAE9D,QAAMC,SAAS,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAlB;AAEA,QAAMC,OAAO,GAAG;AACZ,oBAAgB,kBADJ;AAEZ,qBAAkBH;AAFN,GAAhB;AAKA,MAAIhB,IAAI,GAAG,EAAX;AACA,MAAIoB,SAAS,GAAG,CAAhB;AAEA,QAAM1B,KAAK,CAAC2B,GAAN,CAAU1B,OAAO,GAAG,SAAV,GAAsBkB,MAAtB,GAA+B,OAAzC,EAAkDE,eAAlD,EAAmE;AAACI,IAAAA,OAAO,EAAEA;AAAV,GAAnE,EACDb,IADC,CACI,UAAUC,QAAV,EAAoB;AACtBC,IAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4CF,QAA5C,EADsB,CAEtB;AACA;AACA;AACA;AACA;AACA;AACH,GATC,EAUDG,KAVC,CAUK,UAAUC,KAAV,EAAiB;AACpBH,IAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCE,KAAzC,EADoB,CAEpB;AACH,GAbC,CAAN;AAcA,SAAO;AAAEX,IAAAA,IAAF;AAAQoB,IAAAA;AAAR,GAAP;AACH,CA3BM;AA6BP,OAAO,MAAME,UAAU,GAAG,MAAOC,WAAP,IAAuB;AAE7C,QAAMP,SAAS,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAlB;AAEA,QAAMC,OAAO,GAAG;AACZ,oBAAgB,kBADJ;AAEZ,qBAAkBH;AAFN,GAAhB;AAKA,MAAIQ,MAAM,GAAG,EAAb;AAEA,QAAM9B,KAAK,CAAC+B,IAAN,CAAW9B,OAAO,GAAC,aAAnB,EAAkC4B,WAAlC,EAA+C;AAACJ,IAAAA,OAAO,EAAGA;AAAX,GAA/C,EACLb,IADK,CACA,UAAUC,QAAV,EAAoB;AACtBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ,EADsB,CAEtB;AACH,GAJK,EAKLG,KALK,CAKC,UAAUC,KAAV,EAAiB;AACpBH,IAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACH,GAPK,CAAN;AASA,SAAOa,MAAP;AACH,CArBM;AAuBP,OAAO,MAAME,UAAU,GAAG,MAAOb,MAAP,IAAkB;AAExC,QAAMG,SAAS,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAlB;AAEA,QAAMC,OAAO,GAAG;AACZ,oBAAgB,kBADJ;AAEZ,qBAAkBH;AAFN,GAAhB;AAKA,MAAIQ,MAAM,GAAG,EAAb;AAEA,QAAM9B,KAAK,CAACiC,MAAN,CAAahC,OAAO,GAAC,QAAR,GAAmBkB,MAAnB,GAA4B,SAAzC,EAAoD;AAACM,IAAAA,OAAO,EAAEA;AAAV,GAApD,EACLb,IADK,CACA,UAAUC,QAAV,EAAoB;AACtBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ,EADsB,CAEtB;AACH,GAJK,EAKLG,KALK,CAKC,UAAUC,KAAV,EAAiB;AACpBH,IAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACH,GAPK,CAAN;AASA,SAAOa,MAAP;AACH,CArBM","sourcesContent":["import axios from \"axios\"\nimport { API_URL } from \"../utils/Variables\"\n\nexport const getAllBooks = async (contributorID, activeCategories, from) => {\n\n    var data\n\n    var contributorIDQueryURL=\"\";\n    var categoriesQueryURL=\"\";\n\n    if(activeCategories.length > 0) {\n\n        categoriesQueryURL += \"?categoryID=\"\n        for(let i=0; i<activeCategories.length; i++) {\n            if(i==0)\n                categoriesQueryURL += activeCategories[i];\n            else\n                categoriesQueryURL += \"&\" + activeCategories[i];\n        }\n\n        if(from !== \"Library\")\n            contributorIDQueryURL += \"&contributorID=\" + contributorID;\n    }\n    else {\n        if(from !== \"Library\")\n            contributorIDQueryURL += \"?contributorID=\" + contributorID;\n    }\n\n    await axios\n        .get(API_URL + \"books/all\" + contributorIDQueryURL + categoriesQueryURL)\n        .then(function (response) {\n            console.log(\"getAllBooks Response => \", response);\n              data = response.data\n        })\n        .catch(function (error) {\n            console.log(\"getAllBooks error => \", error);\n              data = error\n        });\n\n    return data;\n}\n\nexport const getBookDetail = async bookID => {\n\n    var data\n\n    await axios\n        .get(API_URL + \"books/\" + bookID)\n        .then(function (response) {\n            console.log(\"getBookDetail Response => \", response);\n            //   data = response.data\n        })\n        .catch(function (error) {\n            console.log(\"getBookDetail error => \", error);\n            //   data = error\n        });\n\n    return data;\n}\n\nexport const editBookDetails = async (bookID, updatedBookData) => {\n\n    const authToken = localStorage.getItem('authToken');\n\n    const headers = {\n        'Content-Type': 'application/json',\n        'Authorization' : authToken\n    }\n\n    let data = []\n    let statusInt = 0\n\n    await axios.put(API_URL + '/books/' + bookID + '/edit', updatedBookData, {headers: headers})\n        .then(function (response) {\n            console.log(\"editBookDetails Response => \", response);\n            // if (response.data.code === 200) {\n            //     statusInt = 1\n            // } else {\n            //     statusInt = 2\n            // }\n            // data = response.data.data\n        })\n        .catch(function (error) {\n            console.log(\"editBookDetails error => \", error);\n            // statusInt = 3\n        })\n    return { data, statusInt }\n}\n\nexport const createBook = async (newBookData) => {\n    \n    const authToken = localStorage.getItem('authToken');\n\n    const headers = {\n        'Content-Type': 'application/json',\n        'Authorization' : authToken\n    }\n\n    let result = []\n\n    await axios.post(API_URL+'book/create', newBookData, {headers : headers})\n    .then(function (response) {\n        console.log(response)\n        // result = response.data\n    })\n    .catch(function (error) {\n        console.log(error)\n    });\n\n    return result\n}\n\nexport const deleteBook = async (bookID) => {\n\n    const authToken = localStorage.getItem('authToken');\n\n    const headers = {\n        'Content-Type': 'application/json',\n        'Authorization' : authToken\n    }\n\n    let result = []\n\n    await axios.delete(API_URL+'books/' + bookID + '/delete', {headers: headers})\n    .then(function (response) {\n        console.log(response)\n        // result = response.data\n    })\n    .catch(function (error) {\n        console.log(error)\n    });\n\n    return result\n}\n\n"]},"metadata":{},"sourceType":"module"}