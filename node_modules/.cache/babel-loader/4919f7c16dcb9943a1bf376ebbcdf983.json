{"ast":null,"code":"import axios from \"axios\";\nimport { API_URL } from \"../utils/Variables\";\nexport const getAllBooks = async (contributorID, activeCategories, searchValue, from) => {\n  var data;\n  var contributorIDQueryURL = \"\";\n  var categoriesQueryURL = \"\";\n  var searchQueryURL = \"\";\n  console.log(\"getAllBooks activeCategories => \", activeCategories);\n\n  if (activeCategories.length > 0) {\n    categoriesQueryURL += \"?categoryID=\";\n\n    for (let i = 0; i < activeCategories.length; i++) {\n      if (i == 0) categoriesQueryURL += activeCategories[i];else categoriesQueryURL += \"_\" + activeCategories[i];\n    }\n\n    if (from !== \"Library\") contributorIDQueryURL += \"&contributorID=\" + contributorID;\n    if (searchValue.length > 0) searchQueryURL += \"&search=\" + searchValue;\n  } else {\n    if (from !== \"Library\") {\n      contributorIDQueryURL += \"?contributorID=\" + contributorID;\n      if (searchValue.length > 0) searchQueryURL += \"&search=\" + searchValue;\n    } else {\n      if (searchValue.length > 0) searchQueryURL += \"?search=\" + searchValue;\n    }\n  }\n\n  await axios.get(API_URL + \"books/all\" + categoriesQueryURL + contributorIDQueryURL + searchQueryURL).then(function (response) {\n    console.log(\"getAllBooks Response => \", response);\n    data = response.data;\n  }).catch(function (error) {\n    console.log(\"getAllBooks error => \", error);\n    data = error;\n  });\n  return data;\n};\nexport const getBookDetail = async bookID => {\n  var data;\n  await axios.get(API_URL + \"books/\" + bookID + \"/details\").then(function (response) {\n    console.log(\"getBookDetail Response => \", response);\n    data = response.data;\n  }).catch(function (error) {\n    console.log(\"getBookDetail error => \", error);\n    data = error;\n  });\n  return data;\n};\nexport const editBookDetails = async (bookID, updatedBookData) => {\n  const authToken = localStorage.getItem('authToken');\n  const headers = {\n    'Content-Type': 'application/json',\n    'Authorization': authToken\n  };\n  let data = [];\n  await axios.put(API_URL + '/books/' + bookID + '/edit', updatedBookData, {\n    headers: headers\n  }).then(function (response) {\n    console.log(\"editBookDetails Response => \", response);\n    data = response.data;\n  }).catch(function (error) {\n    console.log(\"editBookDetails error => \", error);\n    data = error;\n  });\n  return data;\n};\nexport const createBook = async newBookData => {\n  const authToken = localStorage.getItem('authToken');\n  const headers = {\n    'Content-Type': 'application/json',\n    'Authorization': authToken\n  };\n  let result = [];\n  await axios.post(API_URL + 'books/create', newBookData, {\n    headers: headers\n  }).then(function (response) {\n    console.log(response);\n    result = response.data;\n  }).catch(function (error) {\n    console.log(error);\n    result = error;\n  });\n  return result;\n};\nexport const deleteBook = async bookID => {\n  const authToken = localStorage.getItem('authToken');\n  const headers = {\n    'Content-Type': 'application/json',\n    'Authorization': authToken\n  };\n  let result = [];\n  console.log(\"deleteBook bookID => \", bookID);\n  await axios.delete(API_URL + 'books/' + bookID + '/delete', {\n    headers: headers\n  }).then(function (response) {\n    console.log(response);\n    result = response.data;\n  }).catch(function (error) {\n    console.log(error);\n    result = error;\n  });\n  return result;\n};","map":{"version":3,"sources":["/Users/mac/react/gooroo-coding-test/bigas-library-client/src/services/Books.js"],"names":["axios","API_URL","getAllBooks","contributorID","activeCategories","searchValue","from","data","contributorIDQueryURL","categoriesQueryURL","searchQueryURL","console","log","length","i","get","then","response","catch","error","getBookDetail","bookID","editBookDetails","updatedBookData","authToken","localStorage","getItem","headers","put","createBook","newBookData","result","post","deleteBook","delete"],"mappings":"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","sourcesContent":["import axios from \"axios\"\nimport { API_URL } from \"../utils/Variables\"\n\nexport const getAllBooks = async (contributorID, activeCategories, searchValue, from) => {\n\n    var data\n\n    var contributorIDQueryURL = \"\";\n    var categoriesQueryURL = \"\";\n    var searchQueryURL = \"\";\n\n    console.log(\"getAllBooks activeCategories => \", activeCategories);\n\n    if (activeCategories.length > 0) {\n\n        categoriesQueryURL += \"?categoryID=\"\n        for (let i = 0; i < activeCategories.length; i++) {\n            if (i == 0)\n                categoriesQueryURL += activeCategories[i];\n            else\n                categoriesQueryURL += \"_\" + activeCategories[i];\n        }\n\n        if (from !== \"Library\")\n            contributorIDQueryURL += \"&contributorID=\" + contributorID;\n        if (searchValue.length > 0)\n            searchQueryURL += \"&search=\" + searchValue;\n    }\n    else {\n        if (from !== \"Library\") {\n            contributorIDQueryURL += \"?contributorID=\" + contributorID;\n            if (searchValue.length > 0)\n                searchQueryURL += \"&search=\" + searchValue;\n        }\n        else {\n            if (searchValue.length > 0)\n                searchQueryURL += \"?search=\" + searchValue;\n        }\n\n    }\n\n    await axios\n        .get(API_URL + \"books/all\" + categoriesQueryURL + contributorIDQueryURL + searchQueryURL)\n        .then(function (response) {\n            console.log(\"getAllBooks Response => \", response);\n            data = response.data\n        })\n        .catch(function (error) {\n            console.log(\"getAllBooks error => \", error);\n            data = error\n        });\n\n    return data;\n}\n\nexport const getBookDetail = async bookID => {\n\n    var data\n\n    await axios\n        .get(API_URL + \"books/\" + bookID + \"/details\")\n        .then(function (response) {\n            console.log(\"getBookDetail Response => \", response);\n            data = response.data\n        })\n        .catch(function (error) {\n            console.log(\"getBookDetail error => \", error);\n            data = error\n        });\n\n    return data;\n}\n\nexport const editBookDetails = async (bookID, updatedBookData) => {\n\n    const authToken = localStorage.getItem('authToken');\n\n    const headers = {\n        'Content-Type': 'application/json',\n        'Authorization': authToken\n    }\n\n    let data = [];\n\n    await axios.put(API_URL + '/books/' + bookID + '/edit', updatedBookData, { headers: headers })\n        .then(function (response) {\n            console.log(\"editBookDetails Response => \", response);\n            data = response.data\n        })\n        .catch(function (error) {\n            console.log(\"editBookDetails error => \", error);\n            data = error\n        })\n    return data\n}\n\nexport const createBook = async (newBookData) => {\n\n    const authToken = localStorage.getItem('authToken');\n\n    const headers = {\n        'Content-Type': 'application/json',\n        'Authorization': authToken\n    }\n\n    let result = []\n\n    await axios.post(API_URL + 'books/create', newBookData, { headers: headers })\n        .then(function (response) {\n            console.log(response)\n            result = response.data\n        })\n        .catch(function (error) {\n            console.log(error)\n            result = error\n        });\n\n    return result;\n}\n\nexport const deleteBook = async (bookID) => {\n\n    const authToken = localStorage.getItem('authToken');\n\n    const headers = {\n        'Content-Type': 'application/json',\n        'Authorization': authToken\n    }\n\n    let result = []\n\n    console.log(\"deleteBook bookID => \", bookID);\n\n    await axios.delete(API_URL + 'books/' + bookID + '/delete', { headers: headers })\n        .then(function (response) {\n            console.log(response)\n            result = response.data;\n        })\n        .catch(function (error) {\n            console.log(error)\n            result = error;\n        });\n\n    return result\n}\n\n"]},"metadata":{},"sourceType":"module"}