{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/react/gooroo-coding-test-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/react/gooroo-coding-test-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import{API_URL}from\"../utils/Variables\";export var getAllBooks=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(contributorID,activeCategories,searchValue,from){var data,contributorIDQueryURL,categoriesQueryURL,searchQueryURL,i,authToken,headers;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:contributorIDQueryURL=\"\";categoriesQueryURL=\"\";searchQueryURL=\"\";console.log(\"getAllBooks activeCategories => \",activeCategories);if(activeCategories.length>0){categoriesQueryURL+=\"?categoryID=\";for(i=0;i<activeCategories.length;i++){if(i==0)categoriesQueryURL+=activeCategories[i];else categoriesQueryURL+=\"_\"+activeCategories[i];}if(from!==\"Library\")contributorIDQueryURL+=\"&contributorID=\"+contributorID;if(searchValue.length>0)searchQueryURL+=\"&search=\"+searchValue;}else{if(from!==\"Library\"){contributorIDQueryURL+=\"?contributorID=\"+contributorID;if(searchValue.length>0)searchQueryURL+=\"&search=\"+searchValue;}else{if(searchValue.length>0)searchQueryURL+=\"?search=\"+searchValue;}}authToken=localStorage.getItem('authToken');headers={'Content-Type':'application/json','Authorization':authToken};_context.next=9;return axios.get(API_URL+\"books/all\"+categoriesQueryURL+contributorIDQueryURL+searchQueryURL,{headers:headers}).then(function(response){console.log(\"getAllBooks Response => \",response);data=response.data;}).catch(function(error){console.log(\"getAllBooks error => \",error);data=error;});case 9:return _context.abrupt(\"return\",data);case 10:case\"end\":return _context.stop();}}},_callee);}));return function getAllBooks(_x,_x2,_x3,_x4){return _ref.apply(this,arguments);};}();export var getBookDetail=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(bookID){var data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(API_URL+\"books/\"+bookID+\"/details\").then(function(response){console.log(\"getBookDetail Response => \",response);data=response.data;}).catch(function(error){console.log(\"getBookDetail error => \",error);data=error;});case 2:return _context2.abrupt(\"return\",data);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function getBookDetail(_x5){return _ref2.apply(this,arguments);};}();export var editBookDetails=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(bookID,updatedBookData){var authToken,headers,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:authToken=localStorage.getItem('authToken');headers={'Content-Type':'application/json','Authorization':authToken};data=[];_context3.next=5;return axios.put(API_URL+'/books/'+bookID+'/edit',updatedBookData,{headers:headers}).then(function(response){console.log(\"editBookDetails Response => \",response);data=response.data;}).catch(function(error){console.log(\"editBookDetails error => \",error);data=error;});case 5:return _context3.abrupt(\"return\",data);case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function editBookDetails(_x6,_x7){return _ref3.apply(this,arguments);};}();export var createBook=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(newBookData){var authToken,headers,result;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:authToken=localStorage.getItem('authToken');headers={'Content-Type':'application/json','Authorization':authToken};result=[];_context4.next=5;return axios.post(API_URL+'books/create',newBookData,{headers:headers}).then(function(response){console.log('createBook Response => ',response);result=response.data;}).catch(function(error){console.log(error);result=error;});case 5:return _context4.abrupt(\"return\",result);case 6:case\"end\":return _context4.stop();}}},_callee4);}));return function createBook(_x8){return _ref4.apply(this,arguments);};}();export var deleteBook=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(bookID){var authToken,headers,result;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:authToken=localStorage.getItem('authToken');headers={'Content-Type':'application/json','Authorization':authToken};result=[];console.log(\"deleteBook bookID => \",bookID);_context5.next=6;return axios.delete(API_URL+'books/'+bookID+'/delete',{headers:headers}).then(function(response){console.log(response);result=response.data;}).catch(function(error){console.log(error);result=error;});case 6:return _context5.abrupt(\"return\",result);case 7:case\"end\":return _context5.stop();}}},_callee5);}));return function deleteBook(_x9){return _ref5.apply(this,arguments);};}();","map":{"version":3,"sources":["/Users/mac/react/gooroo-coding-test-client/src/services/Books.js"],"names":["axios","API_URL","getAllBooks","contributorID","activeCategories","searchValue","from","contributorIDQueryURL","categoriesQueryURL","searchQueryURL","console","log","length","i","authToken","localStorage","getItem","headers","get","then","response","data","catch","error","getBookDetail","bookID","editBookDetails","updatedBookData","put","createBook","newBookData","result","post","deleteBook","delete"],"mappings":"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","sourcesContent":["import axios from \"axios\"\nimport { API_URL } from \"../utils/Variables\"\n\nexport const getAllBooks = async (contributorID, activeCategories, searchValue, from) => {\n\n    var data\n\n    var contributorIDQueryURL = \"\";\n    var categoriesQueryURL = \"\";\n    var searchQueryURL = \"\";\n\n    console.log(\"getAllBooks activeCategories => \", activeCategories);\n\n    if (activeCategories.length > 0) {\n\n        categoriesQueryURL += \"?categoryID=\"\n        for (let i = 0; i < activeCategories.length; i++) {\n            if (i == 0)\n                categoriesQueryURL += activeCategories[i];\n            else\n                categoriesQueryURL += \"_\" + activeCategories[i];\n        }\n\n        if (from !== \"Library\")\n            contributorIDQueryURL += \"&contributorID=\" + contributorID;\n        if (searchValue.length > 0)\n            searchQueryURL += \"&search=\" + searchValue;\n    }\n    else {\n        if (from !== \"Library\") {\n            contributorIDQueryURL += \"?contributorID=\" + contributorID;\n            if (searchValue.length > 0)\n                searchQueryURL += \"&search=\" + searchValue;\n        }\n        else {\n            if (searchValue.length > 0)\n                searchQueryURL += \"?search=\" + searchValue;\n        }\n\n    }\n\n    const authToken = localStorage.getItem('authToken');\n\n    const headers = {\n        'Content-Type': 'application/json',\n        'Authorization': authToken\n    }\n\n    await axios\n        .get(API_URL + \"books/all\" + categoriesQueryURL + contributorIDQueryURL + searchQueryURL, { headers: headers })\n        .then(function (response) {\n            console.log(\"getAllBooks Response => \", response);\n            data = response.data\n        })\n        .catch(function (error) {\n            console.log(\"getAllBooks error => \", error);\n            data = error\n        });\n\n    return data;\n}\n\nexport const getBookDetail = async bookID => {\n\n    var data\n\n    await axios\n        .get(API_URL + \"books/\" + bookID + \"/details\")\n        .then(function (response) {\n            console.log(\"getBookDetail Response => \", response);\n            data = response.data\n        })\n        .catch(function (error) {\n            console.log(\"getBookDetail error => \", error);\n            data = error\n        });\n\n    return data;\n}\n\nexport const editBookDetails = async (bookID, updatedBookData) => {\n\n    const authToken = localStorage.getItem('authToken');\n\n    const headers = {\n        'Content-Type': 'application/json',\n        'Authorization': authToken\n    }\n\n    let data = [];\n\n    await axios.put(API_URL + '/books/' + bookID + '/edit', updatedBookData, { headers: headers })\n        .then(function (response) {\n            console.log(\"editBookDetails Response => \", response);\n            data = response.data\n        })\n        .catch(function (error) {\n            console.log(\"editBookDetails error => \", error);\n            data = error\n        })\n    return data\n}\n\nexport const createBook = async (newBookData) => {\n\n    const authToken = localStorage.getItem('authToken');\n\n    const headers = {\n        'Content-Type': 'application/json',\n        'Authorization': authToken\n    }\n\n    let result = []\n\n    await axios.post(API_URL + 'books/create', newBookData, { headers: headers })\n        .then(function (response) {\n            console.log('createBook Response => ',response)\n            result = response.data\n        })\n        .catch(function (error) {\n            console.log(error)\n            result = error\n        });\n\n    return result;\n}\n\nexport const deleteBook = async (bookID) => {\n\n    const authToken = localStorage.getItem('authToken');\n\n    const headers = {\n        'Content-Type': 'application/json',\n        'Authorization': authToken\n    }\n\n    let result = []\n\n    console.log(\"deleteBook bookID => \", bookID);\n\n    await axios.delete(API_URL + 'books/' + bookID + '/delete', { headers: headers })\n        .then(function (response) {\n            console.log(response)\n            result = response.data;\n        })\n        .catch(function (error) {\n            console.log(error)\n            result = error;\n        });\n\n    return result\n}\n\n"]},"metadata":{},"sourceType":"module"}